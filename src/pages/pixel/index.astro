---
import PageLayout from "@layouts/PageLayout.astro"
import TopLayout from "@layouts/TopLayout.astro"
import BottomLayout from "@layouts/BottomLayout.astro"
import { WORK } from "@consts"

---

<PageLayout title={WORK.TITLE} description={WORK.DESCRIPTION}>
  <TopLayout>
  </TopLayout>
  
  <BottomLayout>
    <div class="flex flex-col gap-4 opacity-90">
      <div class="contenedor mx-auto move">
        <div class="flex justify-around mx-auto p-2">
            <img src="logo-rpg.png" alt="" width="90px">
            <h1 class="text-center text-white text-xl font-bold p-2">
                Necesitas ayuda ?
            </h1>
            <div class="logo">
              <svg xmlns="http://www.w3.org/2000/svg" class="typing icon icon-tabler icon-tabler-message-chatbot" width="44" height="44" viewBox="0 0 24 24" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                  <path d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z" />
                  <path d="M9.5 9h.01" />
                  <path d="M14.5 9h.01" />
                  <path d="M9.5 13a3.5 3.5 0 0 0 5 0" />
              </svg>
            </div>
        </div>
        <form class="chat-container p-2">
            <section class="chat-box">
                <div id="preg" class="message sent text-black"></div>
                <div id="loading" class="message text-black"></div>
                <div id="resp" class="message received text-black"></div>  
            </section>
            <div>
                <input 
                type="text" 
                id="pregunta" 
                placeholder="Consulta aquí tus dudas técnicas" 
                class="flex w-full font-bold p-2 mt-4 rounded-3xl bg-white text-black">
                <button 
                id="boton" 
                type="submit"
                class="flex justify-center text-[#09f] font-bold bg-white p-2 rounded-3xl mt-4 mx-auto hover:text-green-600 active:translate-y-1"
                >
                Enviar
                </button>
            </div>
        </form>
    </div>
    <div class="top-0 fixed opacity-25 -z-20 justify-center w-screen">
      <img src="auditorio.webp" alt="">
    </div>
    </div>
    </div>
  </BottomLayout>
</PageLayout>

<script lang="javascript" src="/js/asist.js" is:inline></script>

<style>
  .contenedor { 
    width: 400px; /* Ancho del chat */
    margin-top: 10px;
    background-color: #09f; /* Color de fondo del chat */
    border: 2px solid #ccc; /* Borde del chat */
    border-radius: 10px; /* Borde redondeado */
    box-shadow: 0 0 10px rgba(180, 14, 33, 0.1); /* Sombra */
  }

.chat-container {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: 400px;
    height: 60vh;
    margin: 10px auto;
  }
  
  .chat-box {
    background-color: #f2f2f2;
    padding: 10px;
    border-radius: 10px;
    overflow: auto;
  }
  
  .message {
    margin: 5px 0;
    padding: 8px 12px;
    border-radius: 10px;
    max-width: 80%;
  }
  
  .received {
    background-color: #d4e1f4;
  }
  
  .sent {
    background-color: #b7e0d2;
    align-self: flex-end;
  }
  
  .typing {
    background-color: #09f;
    border-radius: 5px;
    animation: typing-animation 1.5s infinite;
  }
  
  @keyframes typing-animation {
    0% { opacity: 0.2; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
  }
</style>
